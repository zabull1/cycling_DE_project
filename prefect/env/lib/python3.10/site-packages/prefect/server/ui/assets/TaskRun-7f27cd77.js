import{d as C,aj as N,Z as O,c as n,ax as c,am as A,u as t,b as k,w as e,f as _,a2 as l,a3 as B,T as F,a as d,e as u,ay as V,az as f,ah as j,ai as m,aA as M,aB as z,aC as J,aD as L,au as P}from"./index-7acf17d8-e892d89d.js";import{u as Z}from"./usePageTitle-608c8d53.js";import"./index-865946c8.js";import{r as $}from"./routes-09bc4e0d.js";const U=C({__name:"TaskRun",setup(q){const R=B(),r=N("taskRunId"),p=O(),v=n(()=>{const s=["Logs","Task Inputs"];return F.xl||s.push("Details"),s}),g=n(()=>r.value?[r.value]:null),T=c(p.taskRuns.getTaskRun,g,{interval:3e4}),a=n(()=>T.response),o=n(()=>{var s;return(s=a.value)==null?void 0:s.flowRunId}),y=n(()=>o.value?[o.value]:null),h=c(p.flowRuns.getFlowRun,y),i=n(()=>{var s;return(s=a.value)!=null&&s.taskInputs?JSON.stringify(a.value.taskInputs,void 0,2):"{}"});function w(){h.refresh(),R.push($.flowRun(o.value))}const I=n(()=>{var s;return(s=a.value)==null?void 0:s.stateType});A(I);const x=n(()=>a.value?`Task Run: ${a.value.name}`:"Task Run");return Z(x),(s,E)=>{const b=l("p-code-highlight"),D=l("p-tabs"),S=l("p-layout-well");return t(a)?(d(),k(S,{key:0,class:"task-run"},{header:e(()=>[u(t(V),{"task-run-id":t(a).id,onDelete:w},null,8,["task-run-id"])]),well:e(()=>[u(t(f),{alternate:"","task-run":t(a)},null,8,["task-run"])]),default:e(()=>[u(D,{tabs:t(v)},j({details:e(()=>[u(t(f),{"task-run":t(a)},null,8,["task-run"])]),logs:e(()=>[u(t(L),{"task-run":t(a)},null,8,["task-run"])]),"task-inputs":e(()=>[s.deployment?(d(),k(t(P),{key:0,"text-to-copy":t(i)},{default:e(()=>[u(b,{lang:"json",text:t(i),class:"task-run__inputs"},null,8,["text"])]),_:1},8,["text-to-copy"])):_("",!0)]),_:2},[t(a)?{name:"task-inputs-heading",fn:e(()=>[m(" Task inputs "),u(t(M),{title:"Task Inputs"},{default:e(()=>[m(z(t(J).info.taskInput),1)]),_:1})]),key:"0"}:void 0]),1032,["tabs"])]),_:1})):_("",!0)}}});export{U as default};
