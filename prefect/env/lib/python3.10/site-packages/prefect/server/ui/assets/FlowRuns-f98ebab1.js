import{d as D,Z as E,p as i,c as r,r as v,a0 as j,a1 as z,b as o,w as d,a2 as h,a3 as M,a as s,e as l,u as e,a4 as P,j as b,a5 as Z,a6 as C,a7 as q,T as F,a8 as G,f,a9 as w,aa as I,ab as J,ac as K,ad as Q,ae as W,af as X,ag as Y,ah as $,ai as ee}from"./index-7acf17d8-e892d89d.js";import{u as se}from"./usePageTitle-608c8d53.js";import"./index-865946c8.js";import{r as te}from"./routes-09bc4e0d.js";const oe={class:"flow-runs__list"},ne={class:"flow-runs__list-controls"},ae={class:"flow-runs__list-controls--right"},fe=D({__name:"FlowRuns",setup(le){const g=M(),c=E(),_=i(c.flowRuns.getFlowRunsCount,[{}]),S=r(()=>_.executed),V=r(()=>_.response===0),m=v(),x=j(m,1200),{filter:t,isCustomFilter:N}=z({flowRuns:{nameLike:x}}),p={interval:3e4},R=i(c.flowRuns.getFlowRunsCount,[t],p),B=r(()=>R.response),T=i(c.ui.getFlowRunHistory,[t],p),H=r(()=>T.response??[]),y=i(c.flowRuns.getFlowRuns,[t],p),k=r(()=>y.response??[]),n=v([]);function L(){g.push(te.flowRuns())}const O=()=>{n.value=[],y.refresh(),R.refresh()};return se("Flow Runs"),(ue,a)=>{const U=h("p-button"),A=h("p-layout-default");return s(),o(A,{class:"flow-runs"},{header:d(()=>[l(e(P))]),default:d(()=>[e(S)?(s(),b(C,{key:0},[e(V)?(s(),o(e(Z),{key:0})):(s(),b(C,{key:1},[l(e(q)),e(F).md?(s(),o(e(G),{key:0,history:e(H),"start-date":e(t).flowRuns.expectedStartTimeAfter,"end-date":e(t).flowRuns.expectedStartTimeBefore,class:"flow-runs__chart"},null,8,["history","start-date","end-date"])):f("",!0),w("div",oe,[w("div",ne,[w("div",ae,[n.value.length==0?(s(),o(e(I),{key:0,count:e(B),label:"Flow run"},null,8,["count"])):(s(),o(e(J),{key:1,count:n.value.length},null,8,["count"])),l(e(K),{selected:n.value,onDelete:O},null,8,["selected"])]),e(F).md?(s(),o(e(Q),{key:0,modelValue:m.value,"onUpdate:modelValue":a[0]||(a[0]=u=>m.value=u),placeholder:"Search by run name",label:"Search by run name"},null,8,["modelValue"])):f("",!0),l(e(W),{modelValue:e(t).sort,"onUpdate:modelValue":a[1]||(a[1]=u=>e(t).sort=u)},null,8,["modelValue"])]),l(e(X),{selected:n.value,"onUpdate:selected":a[2]||(a[2]=u=>n.value=u),"flow-runs":e(k)},null,8,["selected","flow-runs"]),e(k).length?f("",!0):(s(),o(e(Y),{key:0},$({_:2},[e(N)?{name:"actions",fn:d(()=>[l(U,{size:"sm",secondary:"",onClick:L},{default:d(()=>[ee(" Clear Filters ")]),_:1})]),key:"0"}:void 0]),1024))])],64))],64)):f("",!0)]),_:1})}}});export{fe as default};
