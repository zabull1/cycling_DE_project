import{d as L,r as D,aj as N,c as l,Z as P,p as j,ak as A,al as B,am as O,b as o,w as s,a2 as c,a3 as V,T as q,an as H,a as n,u as e,ao as J,f as u,ap as m,aq as U,e as d,ar as Z,as as $,at as z,au as E}from"./index-7acf17d8-e892d89d.js";import{u as G}from"./usePageTitle-608c8d53.js";import"./index-865946c8.js";import{r as K}from"./routes-09bc4e0d.js";const ee=L({__name:"FlowRun",setup(M){const _=V(),p=D("Logs"),f=N("flowRunId"),y=l(()=>{const a=["Logs","Task Runs","Subflow Runs","Parameters"];return q.xl||a.push("Details"),a}),v=P(),R=j(v.flowRuns.getFlowRun,[f],{interval:5e3}),t=l(()=>R.response),g=l(()=>{var a;return(a=t.value)==null?void 0:a.deploymentId}),w=A(g);B(f,(a,r)=>{a!==r&&(p.value="Logs")});const k=l(()=>{var a;return((a=t.value)==null?void 0:a.parameters)??{}}),h=l(()=>{var a;return((a=w.value)==null?void 0:a.parameterOpenApiSchema)??{}}),i=l(()=>H(k.value,h.value));function b(){_.push(K.flowRuns())}const x=l(()=>{var a;return(a=t.value)==null?void 0:a.stateType});O(x);const T=l(()=>t.value?`Flow Run: ${t.value.name}`:"Flow Run");return G(T),(a,r)=>{const C=c("p-code-highlight"),F=c("p-tabs"),S=c("p-layout-well");return n(),o(S,{class:"flow-run"},{header:s(()=>[e(t)?(n(),o(e(J),{key:0,"flow-run-id":e(t).id,onDelete:b},null,8,["flow-run-id"])):u("",!0)]),well:s(()=>[e(t)?(n(),o(e(m),{key:0,"flow-run":e(t),alternate:""},null,8,["flow-run"])):u("",!0)]),default:s(()=>[e(t)?(n(),o(e(U),{key:0,"flow-run":e(t)},null,8,["flow-run"])):u("",!0),d(F,{selected:p.value,"onUpdate:selected":r[0]||(r[0]=I=>p.value=I),tabs:e(y)},{details:s(()=>[e(t)?(n(),o(e(m),{key:0,"flow-run":e(t)},null,8,["flow-run"])):u("",!0)]),logs:s(()=>[e(t)?(n(),o(e(Z),{key:0,"flow-run":e(t)},null,8,["flow-run"])):u("",!0)]),"task-runs":s(()=>[e(t)?(n(),o(e($),{key:0,"flow-run-id":e(t).id},null,8,["flow-run-id"])):u("",!0)]),"subflow-runs":s(()=>[e(t)?(n(),o(e(z),{key:0,"flow-run-id":e(t).id},null,8,["flow-run-id"])):u("",!0)]),parameters:s(()=>[e(w)?(n(),o(e(E),{key:0,"text-to-copy":e(i)},{default:s(()=>[d(C,{lang:"json",text:e(i),class:"flow-run__parameters"},null,8,["text"])]),_:1},8,["text-to-copy"])):u("",!0)]),_:1},8,["selected","tabs"])]),_:1})}}});export{ee as default};
